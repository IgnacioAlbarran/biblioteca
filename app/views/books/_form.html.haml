= form_for [@author, @book] do |f|
  - if @book.errors.any?
    #error_explanation
      %h2= "#{pluralize(@book.errors.count, "error")} prohibited this book from being saved:"
      %ul
        - @book.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :author
    = f.collection_select :author_id, Author.all, :id, :last_name, include_blank: true
  = render '/common/field_text', f: f, field: :title
  = render '/common/field_text', f: f, field: :description
  = render '/common/field_text', f: f, field: :section
  = render '/common/field_number', f: f, field: :year
  = render '/common/field_number', f: f, field: :shelf
  = render '/common/field_number', f: f, field: :order
  .field
    = f.label :available
    = f.check_box :available
  .actions
    = f.submit 'Save'
